<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Out of Sample Extension - Shape Space Explorer</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Out of Sample Extension | Shape Space Explorer</title> <meta name="generator" content="Jekyll v3.9.2" /> <meta property="og:title" content="Out of Sample Extension" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." /> <meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." /> <link rel="canonical" href="http://localhost:4000/out_of_sample_extension/" /> <meta property="og:url" content="http://localhost:4000/out_of_sample_extension/" /> <meta property="og:site_name" content="Shape Space Explorer" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Out of Sample Extension" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","headline":"Out of Sample Extension","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/sse_logo.png"}},"url":"http://localhost:4000/out_of_sample_extension/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/about/" class="nav-list-link">About</a></li><li class="nav-list-item"><a href="http://localhost:4000/getting_started/" class="nav-list-link">Getting Started</a></li><li class="nav-list-item"><a href="http://localhost:4000/cell_segmentation/" class="nav-list-link">Cell Segmentation</a></li><li class="nav-list-item"><a href="http://localhost:4000/shape_manifold_embedding/" class="nav-list-link">Shape Manifold Embedding</a></li><li class="nav-list-item"><a href="http://localhost:4000/display_shape_features/" class="nav-list-link">Display Shape Features</a></li><li class="nav-list-item"><a href="http://localhost:4000/inspect_shape_space/" class="nav-list-link">Inspect Shape Space</a></li><li class="nav-list-item"><a href="http://localhost:4000/extended_affinity_propagation/" class="nav-list-link">Extended Affinity Propagation</a></li><li class="nav-list-item"><a href="http://localhost:4000/group_analysis/" class="nav-list-link">Group Analysis</a></li><li class="nav-list-item active"><a href="http://localhost:4000/out_of_sample_extension/" class="nav-list-link active">Out of Sample Extension</a></li><li class="nav-list-item"><a href="http://localhost:4000/shape_space_dynamic/" class="nav-list-link">Shape Space Dynamic</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Shape Space Explorer" aria-label="Search Shape Space Explorer" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/rosegostner/shape" class="site-button" target="_blank" rel="noopener noreferrer" > Shape Space Explorer on GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 id="out-of-sample-extension"> <a href="#out-of-sample-extension" class="anchor-heading" aria-labelledby="out-of-sample-extension"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Out of Sample Extension </h1> <p>First step: create a folder called OOSE (possibly inside Analysis folder), then perform the following two preparatory steps:</p> <ul> <li>Run <code>1-ImageSegmentationFull &gt; Run_CellSegmentation.m</code> and select OOSE as your Analysis folder</li> <li>Either correct data manually, using <code>Inspect Data</code> for all <code>ImageStacksXXX.mat</code> and run <code>1-ImageSegmentationFull &gt; MakeBigStructs.m</code> or continue without inspection running <code>1-ImageSegmentationFull &gt; MakeBigStructsWithoutManual.m</code>.</li> </ul> <p>Now, <code>run 6_OoSE &gt; run_OoSE_training</code> and configure the next step <br /> <img align="center" width="500px" src="./img/oose_config.png" /></p> <p>Once completed successfully, the OOSE folder contains the new file:</p> <ul> <li>LP_trained.mat; its structure has Nx5 matrix, where N is the number of frames analysed.</li> </ul> <p>Now, run <code>6_OoSE &gt; generate_OoSe_distMatrix_new</code> (Choose analysis and OoSE folders as above and click <code>Start OOSE</code> in similar way to the previous step). After correctly finishing, there will be one new file in the OOSE folder:</p> <ul> <li>Dist_mat.mat</li> <li>OoSE_embedding.mat</li> </ul> <p>As a validation step, run <code>3-ShapeFeatures &gt; Run_PlotBAMvsSCORES</code> and select the analysis and OsSE folders, then the program will produce the following figures: <br /> <img align="center" width="500px" src="./img/bam_plot.png" /></p> <p>First and second rows (from left to right) show a comparison between ‘Score’ and ‘Solidity and DistRatio’ distributions, respectively, while third row shows regression lines on top of the shape distributions.</p> <p>To compare the OOSE sample within the shape parameters and cluster parameters of say the control sample, <code>run 6_OoSE &gt; createBargraphs.m</code> <br /> <img align="center" width="500px" src="./img/oose_config3.png" /></p> <p>For clusters, select the best numbers from the reference (Analysis) sample. The new subset will be plotted in shape space using the two most distinctive features for x- and y-axis from the larger sample in Analysis. Also, for the clustering, the sample in Analysis is used as ‘reference’ clusters, and this permits to see how this sample extension compares to a larger sample or a control sample. <br /> <img align="center" width="500px" src="./img/abs_clusters.png" /> Bar graphs for clusters with absolute numbers <br /> <img align="center" width="500px" src="./img/shape_space_ref_grey.png" /> Shape space with reference dots in grey and sample extension in colour <br /> <img align="center" width="500px" src="./img/shape_space_ref_empty.png" /> Extension shapes in full circles and reference shapes in empty circles.</p> <p>Note: All Figures are plotted in OOSE/Figures, with numbers of bar graphs written in CVS files.</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
