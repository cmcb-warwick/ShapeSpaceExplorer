<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Shape Space Dynamic | Shape Space Explorer</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Shape Space Dynamic" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<link rel="canonical" href="http://localhost:4000/shape_space_dynamic/" />
<meta property="og:url" content="http://localhost:4000/shape_space_dynamic/" />
<meta property="og:site_name" content="Shape Space Explorer" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Shape Space Dynamic" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","headline":"Shape Space Dynamic","url":"http://localhost:4000/shape_space_dynamic/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Shape Space Explorer" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Shape Space Explorer</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/cell_segmentation/">Cell Segmentation</a><a class="page-link" href="/display_shape_features/">Display Shape Features</a><a class="page-link" href="/extended_affinity_propagation/">Extended Affinity Propagation</a><a class="page-link" href="/getting_started/">Getting Started</a><a class="page-link" href="/group_analysis/">Group Analysis</a><a class="page-link" href="/inspect_shape_space/">Inspect Shape Space</a><a class="page-link" href="/out_of_sample_extension/">Out of Sample Extension</a><a class="page-link" href="/shape_manifold_embedding/">Shape Manifold Embedding</a><a class="page-link" href="/shape_space_dynamic/">Shape Space Dynamic</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <h1 id="shape-space-dynamic">Shape Space Dynamic</h1>

<h2 id="group-analysis-including-oose-data-and-cluster-to-cluster-speed">Group analysis including OoSE data and cluster to cluster speed</h2>

<p>First, please make sure that the Neural Network Toolbox is already installed. If not install it by clicking on the Home tab, click Add-Ons (stacked cubes icon) -&gt; Get Add-Ons. This launches the Add-On Explorer that lists all toolboxes from MATLAB -&gt; search for Neural Network and install it. \</p>

<p>Then, run 5-Extended_Affinity_Propagation &gt; Run_GroupAnalysisNEW.m 
<img align="center" width="500px" src="./img/group_analysis.png" /></p>

<p>Define the Groups by entering a group name, the stack number, and the associated analysis folder. A mapping between stack number and original file is in ‘FileMapping.csv’, generated in the cell segmentation step. 
Note: Avoid special characters and white space for group names as they are used later directly in figure paths, and may cause issues on some operating systems.</p>

<p>Note: stack numbers from one to five can be entered in several ways, such as</p>
<ul>
  <li>1-5</li>
  <li>1,2,3,4,5
To delete a group, hold CTRL and click on the group, which produces a context menu with a delete option.</li>
</ul>

<p>Now, configure the number of regions by selecting the number of rows and columns of the shape space to be divided (see figure below). <br />
<img align="center" width="500px" src="./img/constrained_clustering.png" /></p>

<p>Once ‘Generate figures’ buttom is pressed, a GUI for Self Organizing Maps Neural Network for shape feature space clustering will be shown (see below) <br />
<img align="center" width="500px" src="./img/neural_net.png" /></p>

<p>For each group analysis, the program creates a new folder with time stamp, for example “GroupAnalysis_2015-04-15_095836”. The folder contains the following figures for each group: <br />
<img align="center" width="500px" src="./img/shape_space_grey.png" />
<img align="center" width="500px" src="./img/shape_space_group.png" /></p>

<p>Top left images shows shape space in gray with all shapes from all groups. The Top right image shows all shapes in region colour. Second row (from left to right) show group elements in cluster colour and non-group elements in grey for three different groups: untreated, siControl, siKIF1C, receptively. There is also a number of figures that are generated for each group (see below). \ 
<img align="center" width="500px" src="./img/group_cluster.png" />
<img align="center" width="500px" src="./img/nongroup_grey.png" />
<img align="center" width="500px" src="./img/three_groups.png" /></p>

<p><img align="center" width="500px" src="./img/rel_amount_shapes.png" />
<img align="center" width="500px" src="./img/directionality.png" /></p>

<p>Left figure shows the relative amount of shapes in the clusters, while right figure shows directionality as ratio of Euclidean distance over accumulated distance over different time lags for each group. <br />
<img align="center" width="500px" src="./img/rel_count_groups.png" />
<img align="center" width="500px" src="./img/abs_count_groups.png" /></p>

<p>Left figure shows relative count of all groups with respect to region 1 (red), while right figure shows bar plots with absolute counts. For all bar plots, the numbers are written in text format in the Group Analysis folder.</p>

<p>Also, the averages speed in shape space is written in “AvgSpeedPerGroup.csv”. The unit of the speed is [unit in shape space/ time point difference]. If your movies took a frame every 5 minutes, than the respective unit would be 
[1 unit in shape space/ 5 minutes].</p>

<table>
  <thead>
    <tr>
      <th>Groups</th>
      <th>AvgSpeed</th>
      <th>Std</th>
      <th>StandErr</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Control</td>
      <td>2.75629709799542E-07</td>
      <td>1.78215492166065E-07</td>
      <td>4.98322139028005E-09</td>
    </tr>
    <tr>
      <td>Treatment1</td>
      <td>2.75629709799542E-07</td>
      <td>1.78215492166065E-07</td>
      <td>4.98322139028005E-09</td>
    </tr>
    <tr>
      <td>Treatment2</td>
      <td>2.75629709799542E-07</td>
      <td>1.78215492166065E-07</td>
      <td>4.98322139028005E-09</td>
    </tr>
    <tr>
      <td>All</td>
      <td>2.75629709799541E-07</td>
      <td>1.78169027429995E-07</td>
      <td>2.87631409658485E-09</td>
    </tr>
  </tbody>
</table>

<p>Finally, you can select two regions (regionX and regionY) to calculate the speed of cells from regionX to regionY and vice versa, this by left-click anywhere at the target regions and once the regions have been selected, click-right anywhere in the figure to start the analysis.</p>

<p>Once done, the figure will be updated to show the number of regions that have been just selected. <br />
<img align="center" width="500px" src="./img/selected_regions.png" /></p>

<p>Note that the cluster numbers will be shown on the clustered shape space once you do click-right.</p>

<p>Also, the system will produce four figures as demonstrated below <br />
<img align="center" width="500px" src="./img/x_to_y.png" />
<img align="center" width="500px" src="./img/y_to_x.png" />
<img align="center" width="500px" src="./img/speed_x_to_y.png" />
<img align="center" width="500px" src="./img/speed_y_to_x.png" /></p>

<p>First row (from left to right) shows paths of cells form regionX (e.g., the first selected region) to regionY and from regionY to regionX, respectively. Second row (from left to right) shows the speed of cells from regionX to regionY and vise versa, respectively.</p>

<h2 id="sliced-shape-dynamics">Sliced Shape Dynamics</h2>

<p>For dynamic data, start with pre-processing and run 7-ShapeSpaceDynamics &gt; Run_DynamicData_Generation.m and select the Analysis folder. 
After successful completion, the program should have generated the file:</p>
<ul>
  <li>DynamicData.mat</li>
</ul>

<p>The inside of the DynamicData.mat consists of the following variables:</p>
<ul>
  <li>struc.track: contains the x,y coordinates for a cell id in shape space, for each frame.</li>
  <li>struc.track: contains the speed for a cell id, for each frame.</li>
  <li>struc.average_speed: a single number, containing the average speed for a cell id.</li>
  <li>Struc.angles: contains the angle of a cell id for each frame.</li>
  <li>Struc.av_displacement_direction: a single number showing the average displacement direction.</li>
</ul>

<p>Note: InspectData  from 1st step, permits only cells with continuous detection to have the same id. Hence, per definition each cell id has equally distant time points, or in other word, no gaps in time points.</p>

<h2 id="sliced-shape-space-average-dynamics">Sliced Shape Space Average Dynamics</h2>

<p>This program permits to see the average behaviour of slices in shape space. Run 7-ShapeSpaceDynamics &gt; Run_Sliced_Dynamics.m <br />
<img align="center" width="500px" src="./img/dynamics_data.png" /></p>

<p>Select the Analysis folder and the number of slices for the x- and y-coordinate in shape space before clicking on “Generate Figures”</p>

<p>The program produces a figure, where for each slice in shape space a rose plot is plotted (see example below). <br />
<img align="center" width="500px" src="./img/rose_per_group.png" /></p>

<p>To see the rose plots per group, tick the last choice box (Analysis by Groups). Then, generate Figures <br />
<img align="center" width="500px" src="./img/rose_group1.png" />
<img align="center" width="500px" src="./img/rose_group2.png" />
The left figure shows the shape dynamics for the first group (siControl) while the right figure is for the second group (siKIF1C), where for each slice in shape space a rose plot is plotted.</p>

<h2 id="explore-average-behaviour-of-clusters">Explore Average Behaviour of Clusters</h2>
<p><img align="center" width="500px" src="./img/constrained_clustering_average.png" />
An example graph could look similar to the image below: <br />
<img align="center" width="500px" src="./img/rose_average_clusters.png" />
<img align="center" width="500px" src="./img/shape_average_clusters.png" /></p>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Shape Space Explorer</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Shape Space Explorer</li><li><a class="u-email" href="mailto:camdu@warwick.ac.uk">camdu@warwick.ac.uk</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/warwickcamdu"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">warwickcamdu</span></a></li><li><a href="https://www.twitter.com/warwickcamdu"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">warwickcamdu</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
