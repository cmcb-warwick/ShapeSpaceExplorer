<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Shape Space Dynamic - Shape Space Explorer</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Shape Space Dynamic | Shape Space Explorer</title> <meta name="generator" content="Jekyll v3.9.2" /> <meta property="og:title" content="Shape Space Dynamic" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." /> <meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." /> <link rel="canonical" href="http://localhost:4000/shape_space_dynamic/" /> <meta property="og:url" content="http://localhost:4000/shape_space_dynamic/" /> <meta property="og:site_name" content="Shape Space Explorer" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Shape Space Dynamic" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","headline":"Shape Space Dynamic","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/sse_logo.png"}},"url":"http://localhost:4000/shape_space_dynamic/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/about/" class="nav-list-link">About</a></li><li class="nav-list-item"><a href="http://localhost:4000/getting_started/" class="nav-list-link">Getting Started</a></li><li class="nav-list-item"><a href="http://localhost:4000/cell_segmentation/" class="nav-list-link">Cell Segmentation</a></li><li class="nav-list-item"><a href="http://localhost:4000/shape_manifold_embedding/" class="nav-list-link">Shape Manifold Embedding</a></li><li class="nav-list-item"><a href="http://localhost:4000/display_shape_features/" class="nav-list-link">Display Shape Features</a></li><li class="nav-list-item"><a href="http://localhost:4000/inspect_shape_space/" class="nav-list-link">Inspect Shape Space</a></li><li class="nav-list-item"><a href="http://localhost:4000/extended_affinity_propagation/" class="nav-list-link">Extended Affinity Propagation</a></li><li class="nav-list-item"><a href="http://localhost:4000/group_analysis/" class="nav-list-link">Group Analysis</a></li><li class="nav-list-item"><a href="http://localhost:4000/out_of_sample_extension/" class="nav-list-link">Out of Sample Extension</a></li><li class="nav-list-item active"><a href="http://localhost:4000/shape_space_dynamic/" class="nav-list-link active">Shape Space Dynamic</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Shape Space Explorer" aria-label="Search Shape Space Explorer" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/rosegostner/shape" class="site-button" target="_blank" rel="noopener noreferrer" > Shape Space Explorer on GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 id="shape-space-dynamic"> <a href="#shape-space-dynamic" class="anchor-heading" aria-labelledby="shape-space-dynamic"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Shape Space Dynamic </h1> <h2 id="group-analysis-including-oose-data-and-cluster-to-cluster-speed"> <a href="#group-analysis-including-oose-data-and-cluster-to-cluster-speed" class="anchor-heading" aria-labelledby="group-analysis-including-oose-data-and-cluster-to-cluster-speed"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Group analysis including OoSE data and cluster to cluster speed </h2> <p>First, please make sure that the Neural Network Toolbox is already installed. If not install it by clicking on the Home tab, click Add-Ons (stacked cubes icon) -&gt; Get Add-Ons. This launches the Add-On Explorer that lists all toolboxes from MATLAB -&gt; search for Neural Network and install it.</p> <p>Then, run <code>5-Extended_Affinity_Propagation &gt; Run_GroupAnalysisNEW.m</code> <img align="center" width="500px" src="./img/group_analysis.png" /></p> <p>Define the Groups by entering a group name, the stack number, and the associated analysis folder. A mapping between stack number and original file is in <code>FileMapping.csv</code>, generated in the cell segmentation step. Note: Avoid special characters and white space for group names as they are used later directly in figure paths, and may cause issues on some operating systems.</p> <p>Note: stack numbers from one to five can be entered in several ways, such as</p> <ul> <li>1-5</li> <li>1,2,3,4,5 To delete a group, hold CTRL and click on the group, which produces a context menu with a delete option.</li> </ul> <p>Now, configure the number of regions by selecting the number of rows and columns of the shape space to be divided. <br /> <img align="center" width="500px" src="./img/constrained_clustering.png" /></p> <p>Once <code>Generate figures</code> button is pressed, a GUI for Self Organizing Maps Neural Network for shape feature space clustering will be shown <br /> <img align="center" width="500px" src="./img/neural_net.png" /></p> <p>For each group analysis, the program creates a new folder with time stamp, for example <code>GroupAnalysis_2015-04-15_095836</code>. The folder contains the following figures for each group: <br /> <img align="center" width="500px" src="./img/shape_space_grey.png" /> <img align="center" width="500px" src="./img/shape_space_group.png" /></p> <p>Top left images shows shape space in gray with all shapes from all groups. The Top right image shows all shapes in region colour. Second row (from left to right) show group elements in cluster colour and non-group elements in grey for three different groups: untreated, siControl, siKIF1C, receptively. There is also a number of figures that are generated for each group. \ <img align="center" width="500px" src="./img/group_cluster.png" /> <img align="center" width="500px" src="./img/nongroup_grey.png" /> <img align="center" width="500px" src="./img/three_groups.png" /></p> <p><img align="center" width="500px" src="./img/rel_amount_shapes.png" /> <img align="center" width="500px" src="./img/directionality.png" /></p> <p>Left figure shows the relative amount of shapes in the clusters, while right figure shows directionality as ratio of Euclidean distance over accumulated distance over different time lags for each group. <br /> <img align="center" width="500px" src="./img/rel_count_groups.png" /> <img align="center" width="500px" src="./img/abs_count_groups.png" /></p> <p>Left figure shows relative count of all groups with respect to region 1 (red), while right figure shows bar plots with absolute counts. For all bar plots, the numbers are written in text format in the Group Analysis folder.</p> <p>Also, the averages speed in shape space is written in <code>AvgSpeedPerGroup.csv</code>. The unit of the speed is [unit in shape space/ time point difference]. If your movies took a frame every 5 minutes, than the respective unit would be [1 unit in shape space/ 5 minutes].</p> <div class="table-wrapper"><table> <thead> <tr> <th>Groups</th> <th>AvgSpeed</th> <th>Std</th> <th>StandErr</th> </tr> </thead> <tbody> <tr> <td>Control</td> <td>2.75629709799542E-07</td> <td>1.78215492166065E-07</td> <td>4.98322139028005E-09</td> </tr> <tr> <td>Treatment1</td> <td>2.75629709799542E-07</td> <td>1.78215492166065E-07</td> <td>4.98322139028005E-09</td> </tr> <tr> <td>Treatment2</td> <td>2.75629709799542E-07</td> <td>1.78215492166065E-07</td> <td>4.98322139028005E-09</td> </tr> <tr> <td>All</td> <td>2.75629709799541E-07</td> <td>1.78169027429995E-07</td> <td>2.87631409658485E-09</td> </tr> </tbody> </table></div> <p>Finally, you can select two regions (regionX and regionY) to calculate the speed of cells from regionX to regionY and vice versa, this by left-click anywhere at the target regions and once the regions have been selected, click-right anywhere in the figure to start the analysis.</p> <p>Once done, the figure will be updated to show the number of regions that have been just selected. <br /> <img align="center" width="500px" src="./img/selected_regions.png" /></p> <p>Note that the cluster numbers will be shown on the clustered shape space once you do click-right.</p> <p>Also, the system will produce four figures as demonstrated below <br /> <img align="center" width="500px" src="./img/x_to_y.png" /> <img align="center" width="500px" src="./img/y_to_x.png" /> <img align="center" width="500px" src="./img/speed_x_to_y.png" /> <img align="center" width="500px" src="./img/speed_y_to_x.png" /></p> <p>First row (from left to right) shows paths of cells form regionX (e.g., the first selected region) to regionY and from regionY to regionX, respectively. Second row (from left to right) shows the speed of cells from regionX to regionY and vise versa, respectively.</p> <h2 id="sliced-shape-dynamics"> <a href="#sliced-shape-dynamics" class="anchor-heading" aria-labelledby="sliced-shape-dynamics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Sliced Shape Dynamics </h2> <p>For dynamic data, start with pre-processing and run <code>7-ShapeSpaceDynamics &gt; Run_DynamicData_Generation.m</code> and select the Analysis folder. After successful completion, the program should have generated the file:</p> <ul> <li>DynamicData.mat</li> </ul> <p>The inside of the DynamicData.mat consists of the following variables:</p> <ul> <li>struc.track: contains the x,y coordinates for a cell id in shape space, for each frame.</li> <li>struc.track: contains the speed for a cell id, for each frame.</li> <li>struc.average_speed: a single number, containing the average speed for a cell id.</li> <li>Struc.angles: contains the angle of a cell id for each frame.</li> <li>Struc.av_displacement_direction: a single number showing the average displacement direction.</li> </ul> <p>Note: InspectData from 1st step, permits only cells with continuous detection to have the same id. Hence, per definition each cell id has equally distant time points, or in other word, no gaps in time points.</p> <h2 id="sliced-shape-space-average-dynamics"> <a href="#sliced-shape-space-average-dynamics" class="anchor-heading" aria-labelledby="sliced-shape-space-average-dynamics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Sliced Shape Space Average Dynamics </h2> <p>This program permits to see the average behaviour of slices in shape space. Run <code>7-ShapeSpaceDynamics &gt; Run_Sliced_Dynamics.m</code> <br /> <img align="center" width="500px" src="./img/dynamics_data.png" /></p> <p>Select the Analysis folder and the number of slices for the x- and y-coordinate in shape space before clicking on <code>Generate Figures</code></p> <p>The program produces a figure, where for each slice in shape space a rose plot is plotted (see example below). <br /> <img align="center" width="500px" src="./img/rose_per_group.png" /></p> <p>To see the rose plots per group, tick the last choice box (Analysis by Groups). Then, generate Figures <br /> <img align="center" width="500px" src="./img/rose_group1.png" /> <img align="center" width="500px" src="./img/rose_group2.png" /> The left figure shows the shape dynamics for the first group (siControl) while the right figure is for the second group (siKIF1C), where for each slice in shape space a rose plot is plotted.</p> <h2 id="explore-average-behaviour-of-clusters"> <a href="#explore-average-behaviour-of-clusters" class="anchor-heading" aria-labelledby="explore-average-behaviour-of-clusters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Explore Average Behaviour of Clusters </h2> <p>Run <code>7-ShapeSpaceDynamics &gt; Run_Clustered_Dynamics.m</code> <br /> <img align="center" width="500px" src="./img/constrained_clustering_average.png" /> An example graph could look similar to the image below: <br /> <img align="center" width="500px" src="./img/rose_average_clusters.png" /> <img align="center" width="500px" src="./img/shape_average_clusters.png" /></p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
